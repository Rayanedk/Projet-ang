<div class="admin-grid">
  <section class="panel">
    <h2>Restaurants</h2>
    <form [formGroup]="restaurantForm" (ngSubmit)="saveRestaurant()" class="form-grid">
      <mat-form-field appearance="outline">
        <mat-label>Nom</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Pays</mat-label>
        <input matInput formControlName="country" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="full">
        <mat-label>Description</mat-label>
        <textarea matInput rows="2" formControlName="description"></textarea>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Image</mat-label>
        <input matInput formControlName="image" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Cuisine</mat-label>
        <input matInput formControlName="cuisine" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Date d'ajout</mat-label>
        <input matInput type="date" formControlName="addedAt" />
      </mat-form-field>
      <mat-slide-toggle formControlName="featured">En vedette</mat-slide-toggle>
      <div class="form-actions">
        <button mat-flat-button color="primary" type="submit">Ajouter</button>
      </div>
    </form>

    <div class="list">
      <div class="row" *ngFor="let r of restaurants()">
        <div>
          <strong>{{ r.name }}</strong>
          <p class="meta">{{ r.country }} • {{ r.cuisine }}</p>
        </div>
        <button mat-stroked-button color="warn" (click)="deleteRestaurant(r.id)">Supprimer</button>
      </div>
    </div>
  </section>

  <section class="panel">
    <h2>Menu</h2>
    <form [formGroup]="dishForm" (ngSubmit)="saveDish()" class="form-grid">
      <mat-form-field appearance="outline">
        <mat-label>Restaurant</mat-label>
        <mat-select formControlName="restaurantId">
          <mat-option *ngFor="let r of restaurants()" [value]="r.id">{{ r.name }}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Nom</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="full">
        <mat-label>Description</mat-label>
        <textarea matInput rows="2" formControlName="description"></textarea>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Prix</mat-label>
        <input matInput type="number" formControlName="price" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Image</mat-label>
        <input matInput formControlName="image" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Catégorie</mat-label>
        <input matInput formControlName="category" />
      </mat-form-field>
      <div class="form-actions">
        <button mat-flat-button color="primary" type="submit">Ajouter</button>
      </div>
    </form>

    <div class="list">
      <div class="row" *ngFor="let d of dishes()">
        <div>
          <strong>{{ d.name }}</strong>
          <p class="meta">{{ d.category }} • {{ d.price | currency }}</p>
        </div>
        <button mat-stroked-button color="warn" (click)="deleteDish(d.id)">Supprimer</button>
      </div>
    </div>
  </section>
</div>
