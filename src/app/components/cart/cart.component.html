<section class="section">
  <h2>Your Cart</h2>
  <div class="card">
    <div *ngIf="orders.getCart().length === 0" class="empty-cart">
      <mat-icon>shopping_cart</mat-icon>
      <p>Your cart is empty</p>
    </div>

    <div *ngIf="orders.getCart().length > 0" class="cart-items">
      <div class="cart-item" *ngFor="let row of orders.getCart()">
        <img [src]="row.dish.image" [alt]="row.dish.name" class="dish-image">
        <div class="item-details">
          <h3>{{ row.dish.name }}</h3>
          <p class="description">{{ row.dish.description }}</p>
          <div class="item-controls">
            <div class="qty-control">
              <button mat-icon-button (click)="decrementQty(row.dish.id, row.qty)">
                <mat-icon>remove</mat-icon>
              </button>
              <span class="qty">{{ row.qty }}</span>
              <button mat-icon-button (click)="incrementQty(row.dish.id, row.qty)">
                <mat-icon>add</mat-icon>
              </button>
            </div>
            <span class="price">{{ row.dish.price | currency:'CAD':'symbol':'1.0-2' }}</span>
          </div>
        </div>
        <div class="item-actions">
          <span class="item-total">{{ row.dish.price * row.qty | currency:'CAD':'symbol':'1.0-2' }}</span>
          <button mat-icon-button color="warn" (click)="orders.removeFromCart(row.dish.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="orders.getCart().length > 0" class="cart-summary">
      <div class="total">
        <span>Total:</span>
        <strong>{{ orders.total() | currency:'CAD':'symbol':'1.0-2' }}</strong>
      </div>
      <button mat-flat-button color="primary" class="confirm gold-btn" (click)="confirm()">Confirmer la commande</button>
    </div>
  </div>
</section>
